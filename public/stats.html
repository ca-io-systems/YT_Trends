<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YT Trends â€“ Stats &amp; Insights</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="stats.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header__inner">
      <div class="logo">
        <svg class="logo__icon" viewBox="0 0 28 20" fill="none"><rect width="28" height="20" rx="4" fill="#FF0000"/><polygon points="11,4 11,16 21,10" fill="#fff"/></svg>
        <span class="logo__text">YT Trends</span>
      </div>
      <nav class="header__nav">
        <a href="/" class="nav-link">Dashboard</a>
        <a href="/stats" class="nav-link nav-link--active">Stats &amp; Insights</a>
      </nav>
    </div>
  </header>

  <!-- Controls -->
  <section class="controls">
    <div class="controls__inner">
      <div class="control-group control-group--wide">
        <label for="keyword-input">ğŸ” Domain / Keyword</label>
        <input
          type="text"
          id="keyword-input"
          placeholder="e.g., AI, coding tutorials, fitness, gaming..."
          autocomplete="off"
        />
      </div>

      <div class="control-group">
        <label for="region-select">Region</label>
        <select id="region-select">
          <option value="US">ğŸ‡ºğŸ‡¸ United States</option>
          <option value="GB">ğŸ‡¬ğŸ‡§ United Kingdom</option>
          <option value="IN">ğŸ‡®ğŸ‡³ India</option>
          <option value="CA">ğŸ‡¨ğŸ‡¦ Canada</option>
          <option value="AU">ğŸ‡¦ğŸ‡º Australia</option>
          <option value="DE">ğŸ‡©ğŸ‡ª Germany</option>
          <option value="FR">ğŸ‡«ğŸ‡· France</option>
          <option value="JP">ğŸ‡¯ğŸ‡µ Japan</option>
          <option value="BR">ğŸ‡§ğŸ‡· Brazil</option>
          <option value="KR">ğŸ‡°ğŸ‡· South Korea</option>
          <option value="MX">ğŸ‡²ğŸ‡½ Mexico</option>
          <option value="RU">ğŸ‡·ğŸ‡º Russia</option>
          <option value="SA">ğŸ‡¸ğŸ‡¦ Saudi Arabia</option>
          <option value="PK">ğŸ‡µğŸ‡° Pakistan</option>
          <option value="AE">ğŸ‡¦ğŸ‡ª UAE</option>
        </select>
      </div>

      <div class="control-group">
        <label for="duration-select">Type</label>
        <select id="duration-select">
          <option value="all">All</option>
          <option value="videos">Videos</option>
          <option value="shorts">Shorts</option>
        </select>
      </div>

      <button id="analyze-btn" class="btn btn--primary" title="Analyze">
        <svg class="btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
        Analyze
      </button>
    </div>
  </section>

  <!-- Loading / Error -->
  <div id="loader" class="loader" style="display:none">
    <div class="spinner"></div>
    <p>Analyzing trendsâ€¦</p>
  </div>
  <div id="error" class="error-banner" style="display:none"></div>

  <!-- Stats Content -->
  <main class="stats-page" id="stats-page" style="display:none">

    <!-- Overview Cards -->
    <section class="overview">
      <div class="overview__card">
        <span class="overview__icon">ğŸ“Š</span>
        <span class="overview__value" id="ov-videos">0</span>
        <span class="overview__label">Videos Analyzed</span>
      </div>
      <div class="overview__card">
        <span class="overview__icon">ğŸ‘ï¸</span>
        <span class="overview__value" id="ov-views">0</span>
        <span class="overview__label">Total Views</span>
      </div>
      <div class="overview__card">
        <span class="overview__icon">ğŸ‘</span>
        <span class="overview__value" id="ov-likes">0</span>
        <span class="overview__label">Total Likes</span>
      </div>
      <div class="overview__card">
        <span class="overview__icon">ğŸ’¬</span>
        <span class="overview__value" id="ov-comments">0</span>
        <span class="overview__label">Total Comments</span>
      </div>
    </section>

    <!-- Two-column layout -->
    <div class="insights-grid">

      <!-- Top Tags / Keywords -->
      <section class="insight-panel">
        <h2 class="insight-panel__title">
          <span class="insight-panel__icon">ğŸ·ï¸</span>
          Top Trending Tags &amp; Keywords
        </h2>
        <p class="insight-panel__subtitle">Most used tags across trending videos</p>
        <div id="tags-list" class="tags-cloud"></div>
      </section>

      <!-- Top Categories -->
      <section class="insight-panel">
        <h2 class="insight-panel__title">
          <span class="insight-panel__icon">ğŸ“</span>
          Top Categories
        </h2>
        <p class="insight-panel__subtitle">Most popular content categories</p>
        <div id="categories-list" class="bar-list"></div>
      </section>

      <!-- Top Channels -->
      <section class="insight-panel insight-panel--full">
        <h2 class="insight-panel__title">
          <span class="insight-panel__icon">ğŸ“º</span>
          Top Channels
        </h2>
        <p class="insight-panel__subtitle">Dominating the trending page by views</p>
        <div id="channels-list" class="channels-grid"></div>
      </section>

      <!-- Top Videos Table -->
      <section class="insight-panel insight-panel--full">
        <h2 class="insight-panel__title">
          <span class="insight-panel__icon">ğŸ”¥</span>
          Top 10 Videos
        </h2>
        <p class="insight-panel__subtitle">Highest performing videos by view count</p>
        <div id="videos-table" class="videos-table"></div>
      </section>

      <!-- AI Topic Analysis -->
      <section class="insight-panel insight-panel--full insight-panel--ai">
        <h2 class="insight-panel__title">
          <span class="insight-panel__icon">ğŸ¤–</span>
          AI Topic Analysis
          <span class="ai-badge">Gemini 3 Flash</span>
        </h2>
        <p class="insight-panel__subtitle">Recurring topics, sub-topics, and content opportunities powered by AI</p>
        <div id="ai-analysis" class="ai-analysis">
          <div class="ai-analysis__placeholder">
            <span class="ai-analysis__placeholder-icon">âœ¨</span>
            <p>Click <strong>Analyze</strong> to generate AI-powered topic insights</p>
          </div>
        </div>
      </section>

    </div>
  </main>

  <footer class="footer">
    <p>Built with the <a href="https://developers.google.com/youtube/v3" target="_blank" rel="noopener">YouTube Data API v3</a></p>
  </footer>

  <script src="stats-app.js"></script>
</body>
</html>
